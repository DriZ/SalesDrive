<!DOCTYPE html>
<html>
  	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
		<style>
	  		body {
				font-family: sans-serif;
				padding-top: 80px;
				width: 300px;
				transition: background-color 0.3s ease, color 0.3s ease;
			}
			input {
				width: 100%;
				margin-bottom: 8px;
				transition: background-color 0.3s ease, color 0.3s ease;
			}
	  		button {
				width: 100%;
				margin-bottom: 12px;
				transition: background-color 0.3s ease, color 0.3s ease;
			}

  			.key-item {
				margin-bottom: 6px;
				font-size: 14px;
			}

  			#previewList input[type="checkbox"] {
			    margin-top: 2px;
			    cursor: pointer;
			}

			#previewList div {
			    align-items: center;
			    gap: 8px;
			}

			#statusMessage.show {
				display: block;
				opacity: 1;
			}

			#statusMessage.hide {
				display: none;
				opacity: 0;
				transition: opacity 0.5s ease;
			}

			body.dark-theme {
				background-color: #1e1e1e;
				color: #f0f0f0;
			}

			body.dark-theme input,
			body.dark-theme button,
			body.dark-theme .dropdown-menu {
				background-color: #2c2c2c;
				color: #f0f0f0;
				border-color: #444;
			}

			body.dark-theme .dropdown-menu {
				box-shadow: 0 2px 6px rgba(255,255,255,0.05);
			}

			body.dark-theme input::placeholder {
				color: rgba(255, 255, 255, 0.6);
			}

			.dropdown {
				position: relative;
			}

			.dropdown-toggle {
				background: none;
				border: none;
				font-size: 1.4em;
				cursor: pointer;
			}

			.dropdown-menu {
				opacity: 0;
				visibility: hidden;
				transform: translateY(-10px);
				transition: opacity 0.3s ease, transform 0.3s ease;
				position: absolute;
				right: 0;
				top: 100%;
				background-color: #fff;
				border: 1px solid #ccc;
				padding: 6px;
				box-shadow: 0 2px 6px rgba(0,0,0,0.15);
				z-index: 1000;
				min-width: 160px;
			}

			.dropdown:hover .dropdown-menu {
				display: block;
				opacity: 1;
				visibility: visible;
				transform: translateY(0);
			}

			.header {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				z-index: 1000;
				padding-bottom: 6px;
				background-color: #fff;
				transition: box-shadow 0.3s ease;
				border-bottom: 1px solid rgba(255,255,255,0.1);
			}

			body.dark-theme .header {
				background-color: #1e1e1e;
				border-bottom: 1px solid rgba(255,255,255,0.45);
			}

			.header-left {
				flex-shrink: 0;
				margin-left: 16px;
			}

			.header-center {
				padding: 0 16px;
			}

			.header-right {
				flex-shrink: 0;
				margin-right: 16px;
				margin-top: 16px;
			}
		</style>
  	</head>
  	<body>
		<div class="header d-flex align-items-center justify-content-between">
			<div class="header-left d-flex align-items-center">
				<img src="img/icon.png" width="32" height="32" alt="Logo" class="rounded me-2">
			</div>
			<div class="header-center flex-grow-1 text-center">
				<h5 class="mb-0">SalesDrive Helper</h5>
			</div>
			<div class="header-right">
				<div id="settingsDropdown" class="dropdown">
					<button class="dropdown-toggle">‚öôÔ∏è</button>
					<div class="dropdown-menu" aria-labelledby="settingsDropdown">
						<button type="button" id="langToggleBtn" class="btn btn-sm btn-outline-primary">üåê –ó–º—ñ–Ω–∏—Ç–∏ –º–æ–≤—É</button>
						<button type="button" id="themeToggleBtn" class="btn btn-sm btn-outline-dark">üåô –ó–º—ñ–Ω–∏—Ç–∏ —Ç–µ–º—É</button>
						<button type="button" id="importBtn" class="btn btn-sm btn-outline-primary">üì• –Ü–º–ø–æ—Ä—Ç</button>
						<button type="button" id="exportBtn" class="btn btn-sm btn-outline-primary">üì§ –ï–∫—Å–ø–æ—Ä—Ç</button>
					</div>
				</div>
			</div>
		</div>
		<div class="px-2 has-validation">
			<label for="apiKey" class="form-label" id="addApiKeyText">–î–æ–±–∞–≤–∏—Ç—å API-–∫–ª—é—á</label>
			<input type="text" id="apiKey" class="form-control" placeholder="API –∫–ª—é—á">
			<div class="invalid-feedback" id="enterValidKey">
				–í–≤–µ–¥–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–π –∫–ª—é—á (100 —Å–∏–º–≤–æ–ª–æ–≤).
			</div>
		</div>
		<div class="px-2">
			<label id="keyNameText" for="keyName" class="form-label">–ò–º—è –∫–ª—é—á–∞</label>
			<input type="text" id="keyName" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–Ω—è—Ç–Ω–æ–µ –∏–º—è –∫–ª—é—á–∞">
		</div>
		<div class="px-2">
			<label for="formId" class="form-label">Form ID</label>
			<input type="text" id="formId" class="form-control" placeholder="–ó–∞–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏" readonly>
		</div>
		<div id="statusMessage" style="
			display: none;
			font-size: 0.9em;
			margin-bottom: 8px;
			padding: 6px 10px;
			border-radius: 4px;
			transition: opacity 0.3s ease;
		">
			<span id="statusIcon" style="margin-right: 6px;"></span>
			<span id="statusText"></span>
		</div>
		<div class="px-2">
			<button id="saveBtn" class="btn btn-primary" disabled>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
			<button id="clearAllBtn" class="btn btn-danger">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∫–ª—é—á–∏</button>
			<button id="toggleKeysBtn" class="btn btn-sm btn-outline-secondary hide" style="margin-bottom: 8px;">
				–ü–æ–∫–∞–∑–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∫–ª—é—á–∏
			</button>
		</div>
		<div id="keysList" class="px-2" style="
		  max-height: 0;
		  overflow: hidden;
		  transition: max-height 0.4s ease, opacity 0.4s ease;
		  opacity: 0;
		"></div>
		<script src="js/popup.js"></script>
		<div id="previewContainer" class="px-2" style="margin-top: 10px; display: none;">
			<h5 id="previewText">–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∫–ª—é—á–µ–π:</h5>
			<div style="margin-bottom: 8px;">
				<button id="selectAllBtn" class="btn btn-sm btn-outline-primary">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</button>
				<button id="deselectAllBtn" class="btn btn-sm btn-outline-secondary">–°–Ω—è—Ç—å –≤—Å–µ</button>
			</div>
			<div id="previewList"></div>
			<button id="confirmImportBtn" class="btn btn-success btn-sm">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</button>
			<button id="cancelImportBtn" class="btn btn-secondary btn-sm">–û—Ç–º–µ–Ω–∞</button>
		</div>
  	</body>
</html>
